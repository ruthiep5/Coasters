<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Makerpsace Coasters Register</title>
</head>
<body>
<style>
   
    img {
        width: 150px;
    }
    body {
        background-color: rgb(246, 236, 212);
    }
    h1 {
        background-color: azure;
        border: 10px black;
        padding: 10px;
        width: 125px;
    }
    h3 {
        background-color: azure;
        text-align: center;
        border: 10px black;

    }
    input[type='number'] {
        width: 30px;
    }
    .column {
        float: left;
        width: 13%;
        padding: 5px;
    }
    .row::after {
        content: "";
        clear: both;
        display: table;
}


</style>
    

    <h1>Coasters</h1>
 
    <h3>Enter the following info:</h3>

    <input type="text" id="firstName" placeholder="First Name">
    <input type="text" id="lastName" placeholder="Last Name">

    <br><br><input type="text" id="email" placeholder="School Email">
    <br><br><br>
    <h3>Which coaster(s), and how many:</h3>
   
    <div class="row">
        <div class="column">
            <img src="coaster1.JPG" alt="1"> 
            <input type="number" id="12" class="coaster">
        </div>
       
        <div class="column">
            <img src="coaster2.JPG" alt="coaster 2">
            <input type="number" id="18" class="coaster">
        </div>
            
        <div class="column">
            <img src="coaster3.JPG" alt="coaster 3"> 
            <input type="number" id="sin_flower" class="coaster">
        </div>  

        <div class="column">
            <img src="coaster4.JPG" alt="coaster 4"> 
            <input type="number" id="7" class="coaster">
        </div>

        <div class="column">
            <img src="coaster5.JPG" alt="coaster 5"> 
            <input type="number" id="16" class="coaster">
        </div>

        <div class="column">
            <img src="coaster6.JPG" alt="coaster 6"> 
            <input type="number" id="29" class="coaster">
        </div>
       
        <div class="column">
            <img src="coaster7.JPG" alt="coaster 7"> 
            <input type="number" id="22" class="coaster">
        </div>  
        
        <div class="column">
            <img src="coaster8.JPG" alt="coaster 8"> 
            <input type="number" id="6" class="coaster">
        </div>  

        <div class="column">
            <img src="coaster9.JPG" alt="coaster 9"> 
            <input type="number" id="9" class="coaster">
        </div>

        <div class="column">
            <img src="coaster10.JPG" alt="coaster 10"> 
            <input type="number" id="15" class="coaster"> 
        </div>    

        <div class="column">
            <img src="coaster11.JPG" alt="coaster 11">
            <input type="number" id="14" class="coaster">
        </div>

        <div class="column">
            <img src="coaster12.JPG" alt="coaster 12">
            <input type="number" id="31" class="coaster">
        </div>

        <div class="column">
            <img src="coaster13.JPG" alt="coaster 13">
            <input type="number" id="24" class="coaster">
        </div>
    </div>


    <div id = "Coas">coaster</div>
    <br><br><input type="button" id="button" value="Submit Order">

    
   
    
</body>
<script>
    submitBut = document.getElementById("button")
    submitBut.addEventListener("click", recordOrder)

    function recordOrder(){
        url ='basic.php'
        xRequest = new XMLHttpRequest();
        xRequest.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("Coas").innerHTML = this.responseText;
            }
        };
        name = document.getElementById("firstName").value;
        console.log(name);
        params = `?firstName=${name}`;
        console.log(params);
        url += params;

        lastName = document.getElementById("lastName").value;
        console.log(lastName);
        params = `&lastName=${lastName}`;
        console.log(params);
        url += params;

        email = document.getElementById("email").value;
        console.log(email);
        params = `&email=${email}`;
        console.log(params);
        url += params;

        coasters = document.getElementsByClassName("coaster");
        console.log(coasters)
        for (let i = 0; i<coasters.length; i++){
            if (coasters[i].value != "" ) {
                console.log(coasters[i].id, coasters[i].value)
                params = `&coaster-${coasters[i].id}=${coasters[i].value}}`;
                url += params;
            }
        }
        
        console.log(url);
        xRequest.open("GET", url, true);
        xRequest.send();   
    }

</script>
</html>